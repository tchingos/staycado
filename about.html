<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - Staycado</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Centralized Firebase Configuration -->
    <script src="firebase-config.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            min-height: 100vh;
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-link {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        
        .nav-link:hover {
            color: #667eea;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
        }
        
        .main-content {
            padding: 120px 2rem 60px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content-section {
            background: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: #333;
            text-align: center;
        }
        
        .story {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
        }
        
        .story p {
            margin-bottom: 1.5rem;
        }
        
        .highlight {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 2rem 0;
            font-style: italic;
            color: #667eea;
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 100px 1rem 40px;
            }
            
            .content-section {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="index.html" class="logo">Staycado</a>
        <nav class="nav-links">
            <a href="request-invite.html" class="nav-link">Request Invite</a>
            <a href="about.html" class="nav-link">About</a>
        </nav>
        <div class="auth-buttons" id="authButtons" style="visibility: hidden;">
            <button class="nav-btn" id="authButton">Sign In</button>
            <button class="nav-btn" id="signOutButton" style="display: none; margin-left: 0.5rem;">Sign Out</button>
        </div>
    </header>
    
    <main class="main-content">
        <div class="content-section">
            <h1>About Staycado</h1>
            
            <div class="story">
                <p>Hi, I'm Tim. Like many people, I'm lucky enough to own a holiday house – a place where my family and I create wonderful memories. But here's the thing: for most of the year, it sits empty.</p>
                
                <p>I used to give friends and family open invites all the time. "Feel free to use the place whenever you want!" I'd say. But you know what? Almost no one ever took me up on it. I think people felt awkward about asking, or they weren't sure if we'd be using it that weekend, or they simply forgot about the offer altogether.</p>
                
                <p>That's when I realized there had to be a better way. I wanted something that would remove all the awkwardness around asking "Are you using your place that weekend?" I wanted to make it crystal clear when the house was available and give people an easy way to see what it offered.</p>
                
                <div class="highlight">
                    "Holiday homes shouldn't sit empty – they should be filled with the people we love, even when we're not there to be with them."
                </div>
                
                <p>So I built Staycado with some AI assistance and a lot of ingenuity. It's designed to solve the exact problem I was facing: making it easier and more concrete for people to share their holiday homes with friends and family.</p>
                
                <p>The idea is simple: create a beautiful page for your property with photos and details, share it privately with your circle, and let them see exactly when it's available. No more awkward conversations, no more empty houses, and no more missed opportunities to share amazing experiences.</p>
                
                <p>I hope Staycado helps other holiday home owners share their special places more easily, because the best memories are the ones we make with the people we care about – whether we're there with them or not.</p>
            </div>
        </div>
    </main>
    
    <script>
        // Wait for Firebase to load and initialize
        window.addEventListener('load', async function() {
            // Initialize Firebase using centralized config
            await window.initializeFirebase();
            const authButton = document.getElementById('authButton');
            const signOutButton = document.getElementById('signOutButton');
            const authButtons = document.getElementById('authButtons');
            let currentUser = null;
            
            // Listen for authentication state changes
            window.onAuthStateChanged(window.auth, (user) => {
                currentUser = user;
                if (user) {
                    // User is signed in - show dashboard button and sign out option
                    authButton.textContent = 'Dashboard';
                    signOutButton.style.display = 'inline-block';
                } else {
                    // User is signed out
                    authButton.textContent = 'Sign In';
                    signOutButton.style.display = 'none';
                }
                // Show buttons once auth state is determined
                authButtons.style.visibility = 'visible';
            });
            
            // Handle auth button click
            authButton.addEventListener('click', async () => {
                if (currentUser) {
                    // Go to dashboard - pass user token for cross-domain auth
                    currentUser.getIdToken().then((token) => {
                        window.location.href = `https://my.staycado.com?token=${token}`;
                    });
                } else {
                    // Sign in with Google
                    try {
                        const result = await window.signInWithPopup(window.auth, window.googleProvider);
                        const user = result.user;
                        console.log('User signed in successfully:', user.email);
                        // Get token and redirect to dashboard
                        user.getIdToken().then((token) => {
                            window.location.href = `https://my.staycado.com?token=${token}`;
                        });
                    } catch (error) {
                        console.error('Error signing in:', error);
                        alert('Error signing in. Please try again.');
                    }
                }
            });
            
            // Handle sign out button click
            signOutButton.addEventListener('click', async () => {
                try {
                    await window.signOut(window.auth);
                    console.log('User signed out successfully');
                } catch (error) {
                    console.error('Error signing out:', error);
                }
            });
        });
    </script>
</body>
</html>